# Derived from: https://github.com/sevonj/scratchmark/blob/master/build-aux/org.scratchmark.Scratchmark.yml
id: "org.scratchmark.Scratchmark"
runtime: "org.gnome.Platform"
runtime-version: "49"
sdk: "org.gnome.Sdk"
sdk-extensions:
    - "org.freedesktop.Sdk.Extension.rust-stable"
command: "scratchmark"
finish-args:
    - "--share=ipc"
    - "--socket=fallback-x11"
    - "--socket=wayland"
    - "--device=dri"
build-options:
    append-path: "/usr/lib/sdk/rust-stable/bin"
    env:
        CARGO_HOME: "/run/build/scratchmark/cargo"
modules:
    - name: "scratchmark"
      builddir: true
      buildsystem: "meson"
      config-opts:
          - "-Doffline=true"
          - "-Dbuildtype=release"
      sources:
          - type: "git"
            url: "https://github.com/sevonj/scratchmark.git"
            tag: "v1.4.6"
          - "generated-sources.json"
